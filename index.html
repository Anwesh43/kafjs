<body>
    <button id="b1">click me</button>
    <h1 id="header"></h1>
    <script src="kafjs.js">
    </script>
    <script>
        const broker = Kaf.createBroker()
        broker.createTopic('store')
        const producer = Kaf.createProducer()
        const consumer1 = Kaf.createConsumer('store', (data) => {
            alert(`the databear is ${data.join(",")}`)
        })
        const consumer2 = Kaf.createConsumer('store', (data) => {
            alert(`the dataro is ${data.join(",")}`)
        })
        const consumer3 = Kaf.createConsumer('store', (data) => {
            alert(`the dataer is ${data.join(",")}`)
        })
        var i = 0
        // window.onmousedown = (event) => {
        //
        //     producer.publish(`data${i}`, 'store', () => {
        //         console.log("data is pushed")
        //     })
        //     i++
        // }
        const domProducer = new DOMProducer(broker, '#b1')

        domProducer.attachActionToTopic('click', 'click more','store')

        const domConsumer = new DOMConsumer(broker, '#header', true, ',')

        Kaf.createDOMProducer('#b1', 'click', 'clicky', 'store')

        Kaf.createDOMConsumer('#header', 'store', true, ' , ')
    </script>
</body>
